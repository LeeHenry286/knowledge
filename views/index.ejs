<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>知识仓库 - 文件管理平台</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <!-- 星空效果容器 -->
  <div class="stars"></div>
  <!-- 星座效果 -->
  <div class="constellation"></div>
  <!-- 北极光效果 -->
  <div class="aurora"></div>
  <!-- 流星会通过JavaScript动态添加到body元素中 -->
  
  <div class="container">
    <header>
      <h1>知识仓库</h1>
      <p>轻松上传、管理和分享您的文件</p>
    </header>

    <section class="upload-section">
      <form action="/upload" method="post" enctype="multipart/form-data" class="upload-form">
        <label for="fileInput">选择文件上传</label>
        <div class="file-input-wrapper">
          <input type="file" id="fileInput" name="file" class="file-input" required>
        </div>
        <div class="file-name-display">未选择文件</div>
        <button type="submit" class="upload-button">上传文件</button>
      </form>
    </section>

    <section class="files-section">
      <h2>已上传文件</h2>
      <% if (files && files.length > 0) { %>
        <ul class="files-list">
          <% files.forEach(function(file) { %>
            <li class="file-item">
              <div class="file-name"><%= file %></div>
              <div class="file-actions">
                <a href="/download/<%= file %>" class="download-button">下载</a>
                <a href="/delete/<%= file %>" class="delete-button" onclick="return confirm('确定要删除文件吗？')">删除</a>
              </div>
            </li>
          <% }); %>
        </ul>
      <% } else { %>
        <p>目前没有上传的文件。</p>
      <% } %>
    </section>

    <footer>
      <p>&copy; 2023 知识仓库. 保留所有权利.</p>
    </footer>
  </div>

  <script src="/js/stars.js"></script>
</body>
</html> 